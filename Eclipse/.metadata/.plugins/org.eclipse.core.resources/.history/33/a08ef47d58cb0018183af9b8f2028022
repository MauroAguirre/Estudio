package uy.edu.cei.Obligatorio.Client;

import java.rmi.NotBoundException;
import java.rmi.RemoteException;
import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;
import java.rmi.server.UnicastRemoteObject;

import uy.edu.cei.Obligatorio.Client.ui.MainWindow;
import uy.edu.cei.Obligatorio.Common.Observable;
import uy.edu.cei.Obligatorio.Common.Observer;
import uy.edu.cei.Obligatorio.Common.Server.Server;
import uy.edu.cei.Obligatorio.Domain.UsuarioModel;

public class CommClientServer extends UnicastRemoteObject implements Observer{
	private static CommClientServer instancia = null;
	private Server server;
	
	public static CommClientServer Instancia() {
		if(instancia == null)
			instancia = new CommClientServer();
		return instancia;
	}
	public CommClientServer() {
		try {
			Registry registry = LocateRegistry.getRegistry(1099);
			server= (Server) registry.lookup("server");
			server.TestConnection();
			server.subscribe(this);
			
		} catch (RemoteException | NotBoundException e) {
			// tirar alguna excepcion para arriba
			e.printStackTrace();
		}
	}
	public Server GetServer() {
		return server;
	}
	@Override
	public void update(String message) throws RemoteException {
		//JOptionPane.showMessageDialog(frame.getComponent(0), "Encontrado", "Bien", 0);
		System.out.println("message");
	}

	@Override
	public void CambiarMenuRegistro() throws RemoteException {
		// TODO Auto-generated method stub
		
	}

	@Override
	public boolean RegistrarUsuario() throws RemoteException {
		// TODO Auto-generated method stub
		return false;
	}
}
