CREATE TABLE [Clase] ([ClaseId]  smallint NOT NULL , [ProfesorId]  smallint NOT NULL , PRIMARY KEY([ClaseId]))
CREATE NONCLUSTERED INDEX [ICLASE1] ON [Clase] ([ProfesorId] )

CREATE TABLE [Carne] ([CarneId]  smallint NOT NULL  IDENTITY(1,1), [CarneFechaIngreso]  datetime NOT NULL , [SocioId]  smallint NOT NULL , PRIMARY KEY([CarneId]))
CREATE UNIQUE NONCLUSTERED INDEX [UCARNE] ON [Carne] ([SocioId] )

CREATE TABLE [Socio] ([SocioId]  smallint NOT NULL , [SocioDireccion]  varchar(1024) NOT NULL , [SocioSexo]  char(20) NOT NULL , [SocioEdad]  smallint NOT NULL , [SocioTipo]  char(20) NOT NULL , [SocioReconocido]  char(20) NOT NULL , [SocioFoto]  VARBINARY(MAX) NOT NULL , [SocioFoto_GXI]  varchar(2048) NULL , PRIMARY KEY([SocioId]))

CREATE TABLE [Profesor] ([ProfesorId]  smallint NOT NULL , [ProfesorNombre]  char(20) NOT NULL , [ProfesorDireccion]  varchar(1024) NOT NULL , [ProfesorFoto]  VARBINARY(MAX) NOT NULL , [ProfesorFoto_GXI]  varchar(2048) NULL , [ActividadId]  smallint NOT NULL , PRIMARY KEY([ProfesorId]))
CREATE NONCLUSTERED INDEX [IPROFESOR1] ON [Profesor] ([ActividadId] )

CREATE TABLE [ActividadSocioEnActividad] ([ActividadId]  smallint NOT NULL , [SocioId]  smallint NOT NULL , PRIMARY KEY([ActividadId], [SocioId]))
CREATE NONCLUSTERED INDEX [IACTIVIDADSOCIOENACTIVIDAD1] ON [ActividadSocioEnActividad] ([SocioId] )

CREATE TABLE [Actividad1] ([ActividadId]  smallint NOT NULL , [ActividadDescripcion]  char(20) NOT NULL , [ActividadTipo]  char(20) NOT NULL , PRIMARY KEY([ActividadId]))

ALTER TABLE [ActividadSocioEnActividad] ADD CONSTRAINT [IACTIVIDADSOCIOENACTIVIDAD2] FOREIGN KEY ([ActividadId]) REFERENCES [Actividad1] ([ActividadId])
ALTER TABLE [ActividadSocioEnActividad] ADD CONSTRAINT [IACTIVIDADSOCIOENACTIVIDAD1] FOREIGN KEY ([SocioId]) REFERENCES [Socio] ([SocioId])

ALTER TABLE [Profesor] ADD CONSTRAINT [IPROFESOR1] FOREIGN KEY ([ActividadId]) REFERENCES [Actividad1] ([ActividadId])

ALTER TABLE [Carne] ADD CONSTRAINT [ICARNE1] FOREIGN KEY ([SocioId]) REFERENCES [Socio] ([SocioId])

ALTER TABLE [Clase] ADD CONSTRAINT [ICLASE1] FOREIGN KEY ([ProfesorId]) REFERENCES [Profesor] ([ProfesorId])

